(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{211:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"issuer-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#issuer-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Issuer Configuration")]),t._v(" "),a("h2",{attrs:{id:"what-is-a-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-is-a-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" What is a configuration?")]),t._v(" "),a("p",[t._v('Configurations add custom methods to issuers, payments, purses, and mints, defines the functions to make the "mintKeeper" (the actual holder of the mappings from purses/payments to amounts), and makes the "assay" (the object that describes the strategy of how amounts are withdrawn or deposited, among other things).')]),t._v(" "),a("h2",{attrs:{id:"when-is-it-used"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#when-is-it-used","aria-hidden":"true"}},[t._v("#")]),t._v(" When is it used?")]),t._v(" "),a("p",[a("code",[t._v("makeMint")]),t._v(" takes in a function to make a configuration. "),a("code",[t._v("makeMint")]),t._v(' uses a basic fungible configuration if none is passed in. Fungible tokens (our default for mints) do not customize payments, purses, etc. They use the "basic" mintKeeper (the place where the amounts per purse and payment are recorded) and use the "Nat" assay, in which amounts are natural numbers and use subtraction and addition.')]),t._v(" "),a("h2",{attrs:{id:"basic-make-configuration-function"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-make-configuration-function","aria-hidden":"true"}},[t._v("#")]),t._v(" Basic make configuration function")]),t._v(" "),a("p",[t._v("The function to make a configuration should return an object with the following properties:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("makePaymentTrait()")])]),t._v(" "),a("li",[a("code",[t._v("makePurseTrait()")])]),t._v(" "),a("li",[a("code",[t._v("makeMintTrait()")])]),t._v(" "),a("li",[a("code",[t._v("makeIssuerTrait()")])]),t._v(" "),a("li",[a("code",[t._v("makeMintKeeper()")])]),t._v(" "),a("li",[a("code",[t._v("strategy")]),t._v(" - {Object}")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" harden "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@agoric/harden'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" harden\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" harden "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@agoric/harden'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeBasicFungibleConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// no customization")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makePaymentTrait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_superPayment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// no customization")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makePurseTrait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_superPurse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// no customization")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeMintTrait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_superMint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// no customization")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeIssuerTrait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_superIssuer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    makeMintKeeper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" makeCoreMintKeeper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    strategy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" natStrategy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"configuration-object-defaults"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-object-defaults","aria-hidden":"true"}},[t._v("#")]),t._v(" Configuration Object defaults")]),t._v(" "),a("p",[a("code",[t._v("makePaymentTrait(_superPayment)")]),t._v(" - default {}\n"),a("code",[t._v("makePurseTrait(_superPurse)")]),t._v(" - default {}\n"),a("code",[t._v("makeMintTrait(_superMint)")]),t._v(" - default {}\n"),a("code",[t._v("makeIssuerTrait(_superIssuer)")]),t._v(" - default {}\n"),a("code",[t._v("makeMintKeeper")]),t._v(" - default "),a("code",[t._v("makeCoreMintKeeper")]),t._v(" "),a("code",[t._v("strategy")]),t._v(" - default "),a("code",[t._v("natStrategy")])]),t._v(" "),a("h3",{attrs:{id:"core-mint-keeper"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#core-mint-keeper","aria-hidden":"true"}},[t._v("#")]),t._v(" Core Mint Keeper")]),t._v(" "),a("p",[a("code",[t._v("mintKeeper")]),t._v(" "),a("code",[t._v("mintKeeper.purseKeeper")]),t._v(" - asset\n"),a("code",[t._v("mintKeeper.paymentKeeper")]),t._v(" - asset\n"),a("code",[t._v("mintKeeper.isPurse(asset)")]),t._v(" "),a("code",[t._v("mintKeeper.isPayment(asset)")])]),t._v(" "),a("p",[a("code",[t._v("mintKeeper.purseKeeper")]),t._v(" and "),a("code",[t._v("mintKeeper.paymentKeeper")]),t._v(" are both asset keepers. An asset can either be a purse or payment. An asset keeper keeps track of either all of the purses (purseKeeper) or all of the payments (paymentKeeper) and their respective amounts. Asset keepers have the following properties:\n"),a("code",[t._v("updateAmount(asset, newAmount)")]),t._v(" "),a("code",[t._v("recordeNew(asset, initialAmount)")]),t._v(" "),a("code",[t._v("getAmount(asset)")]),t._v(" "),a("code",[t._v("has(asset)")]),t._v(" "),a("code",[t._v("remove(asset)")])]),t._v(" "),a("h3",{attrs:{id:"strategies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#strategies","aria-hidden":"true"}},[t._v("#")]),t._v(" Strategies")]),t._v(" "),a("p",[t._v("ERTP comes with several strategies you can use in your project. The "),a("code",[t._v("natStrategy")]),t._v(" is used in the default configuration.")]),t._v(" "),a("p",[t._v("The following methods are defined in each strategy:\n"),a("code",[t._v("insistKind")]),t._v(" "),a("code",[t._v("empty")]),t._v(" "),a("code",[t._v("isEmpty")]),t._v(" "),a("code",[t._v("includes")]),t._v(" "),a("code",[t._v("equals")]),t._v(" "),a("code",[t._v("with")]),t._v(" "),a("code",[t._v("without")])]),t._v(" "),a("p",[a("code",[t._v("listStrategy")])]),t._v(" "),a("p",[a("code",[t._v("natStrategy")]),t._v("\nThe default kind of amount is a labeled natural number describing a quantity of fungible erights. The label describes what kinds of rights these are. This is a form of labeled unit, as in unit typing.")]),t._v(" "),a("p",[t._v("Natural numbers are used for fungible erights such as money because rounding issues make floats problematic. All operations should be done with the smallest whole unit such that the NatAssay never deals with fractional parts.")])])}),[],!1,null,null,null);e.default=n.exports}}]);