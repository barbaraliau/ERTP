<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Issuer Configuration | ERTP 0.x</title>
    <meta name="description" content="Electronic Rights Transfer Protocol (ERTP). A smart contract framework for exchanging electronic rights">
    
    
    <link rel="preload" href="/ERTP/assets/css/0.styles.4436858b.css" as="style"><link rel="preload" href="/ERTP/assets/js/app.1981f8d2.js" as="script"><link rel="preload" href="/ERTP/assets/js/2.a50c2bef.js" as="script"><link rel="preload" href="/ERTP/assets/js/13.1f75e680.js" as="script"><link rel="prefetch" href="/ERTP/assets/js/10.037a181b.js"><link rel="prefetch" href="/ERTP/assets/js/11.02dbf796.js"><link rel="prefetch" href="/ERTP/assets/js/12.ea92337c.js"><link rel="prefetch" href="/ERTP/assets/js/14.64734ebc.js"><link rel="prefetch" href="/ERTP/assets/js/15.667d7bf4.js"><link rel="prefetch" href="/ERTP/assets/js/16.62bc5a64.js"><link rel="prefetch" href="/ERTP/assets/js/3.2b21725d.js"><link rel="prefetch" href="/ERTP/assets/js/4.f22d64cd.js"><link rel="prefetch" href="/ERTP/assets/js/5.f39b2ce3.js"><link rel="prefetch" href="/ERTP/assets/js/6.ff03024e.js"><link rel="prefetch" href="/ERTP/assets/js/7.a5677fb4.js"><link rel="prefetch" href="/ERTP/assets/js/8.eb910c83.js"><link rel="prefetch" href="/ERTP/assets/js/9.5fe64c05.js">
    <link rel="stylesheet" href="/ERTP/assets/css/0.styles.4436858b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ERTP/" class="home-link router-link-active"><!----> <span class="site-name">ERTP 0.x</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ERTP/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/ERTP/api/" class="nav-link">API</a></div><div class="nav-item"><a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Agoric/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ERTP/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/ERTP/api/" class="nav-link">API</a></div><div class="nav-item"><a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Agoric/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/ERTP/guide/" class="sidebar-heading clickable router-link-active open"><span>Guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ERTP/guide/" class="sidebar-link">ERTP</a></li><li><a href="/ERTP/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/ERTP/guide/issuers/" class="sidebar-heading clickable"><span>Concepts</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ERTP/guide/issuers.html" class="sidebar-link">Issuers</a></li><li><a href="/ERTP/guide/assays.html" class="sidebar-link">Assays</a></li><li><a href="/ERTP/guide/contract-hosts.html" class="sidebar-link">Contract Hosts</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="issuer-configuration"><a href="#issuer-configuration" aria-hidden="true" class="header-anchor">#</a> Issuer Configuration</h1> <h2 id="what-is-a-configuration"><a href="#what-is-a-configuration" aria-hidden="true" class="header-anchor">#</a> What is a configuration?</h2> <p>Configurations add custom methods to issuers, payments, purses, and mints, defines the functions to make the &quot;mintKeeper&quot; (the actual holder of the mappings from purses/payments to amounts), and makes the &quot;assay&quot; (the object that describes the strategy of how amounts are withdrawn or deposited, among other things).</p> <h2 id="when-is-it-used"><a href="#when-is-it-used" aria-hidden="true" class="header-anchor">#</a> When is it used?</h2> <p><code>makeMint</code> takes in a function to make a configuration. <code>makeMint</code> uses a basic fungible configuration if none is passed in. Fungible tokens (our default for mints) do not customize payments, purses, etc. They use the &quot;basic&quot; mintKeeper (the place where the amounts per purse and payment are recorded) and use the &quot;Nat&quot; assay, in which amounts are natural numbers and use subtraction and addition.</p> <h2 id="basic-make-configuration-function"><a href="#basic-make-configuration-function" aria-hidden="true" class="header-anchor">#</a> Basic make configuration function</h2> <p>The function to make a configuration should return an object with the following properties:</p> <ul><li><code>makePaymentTrait()</code></li> <li><code>makePurseTrait()</code></li> <li><code>makeMintTrait()</code></li> <li><code>makeIssuerTrait()</code></li> <li><code>makeMintKeeper()</code></li> <li><code>strategy</code> - {Object}</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> harden <span class="token keyword">from</span> <span class="token string">'@agoric/harden'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">makeConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> harden
<span class="token punctuation">}</span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> harden <span class="token keyword">from</span> <span class="token string">'@agoric/harden'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">makeBasicFungibleConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// no customization</span>
    <span class="token function">makePaymentTrait</span><span class="token punctuation">(</span><span class="token parameter">_superPayment</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// no customization</span>
    <span class="token function">makePurseTrait</span><span class="token punctuation">(</span><span class="token parameter">_superPurse</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// no customization</span>
    <span class="token function">makeMintTrait</span><span class="token punctuation">(</span><span class="token parameter">_superMint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// no customization</span>
    <span class="token function">makeIssuerTrait</span><span class="token punctuation">(</span><span class="token parameter">_superIssuer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    makeMintKeeper<span class="token punctuation">:</span> makeCoreMintKeeper<span class="token punctuation">,</span>
    strategy<span class="token punctuation">:</span> natStrategy<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="configuration-object-defaults"><a href="#configuration-object-defaults" aria-hidden="true" class="header-anchor">#</a> Configuration Object defaults</h2> <p><code>makePaymentTrait(_superPayment)</code> - default {}
<code>makePurseTrait(_superPurse)</code> - default {}
<code>makeMintTrait(_superMint)</code> - default {}
<code>makeIssuerTrait(_superIssuer)</code> - default {}
<code>makeMintKeeper</code> - default <code>makeCoreMintKeeper</code> <code>strategy</code> - default <code>natStrategy</code></p> <h3 id="core-mint-keeper"><a href="#core-mint-keeper" aria-hidden="true" class="header-anchor">#</a> Core Mint Keeper</h3> <p><code>mintKeeper</code> <code>mintKeeper.purseKeeper</code> - asset
<code>mintKeeper.paymentKeeper</code> - asset
<code>mintKeeper.isPurse(asset)</code> <code>mintKeeper.isPayment(asset)</code></p> <p><code>mintKeeper.purseKeeper</code> and <code>mintKeeper.paymentKeeper</code> are both asset keepers. An asset can either be a purse or payment. An asset keeper keeps track of either all of the purses (purseKeeper) or all of the payments (paymentKeeper) and their respective amounts. Asset keepers have the following properties:
<code>updateAmount(asset, newAmount)</code> <code>recordeNew(asset, initialAmount)</code> <code>getAmount(asset)</code> <code>has(asset)</code> <code>remove(asset)</code></p> <h3 id="strategies"><a href="#strategies" aria-hidden="true" class="header-anchor">#</a> Strategies</h3> <p>ERTP comes with several strategies you can use in your project. The <code>natStrategy</code> is used in the default configuration.</p> <p>The following methods are defined in each strategy:
<code>insistKind</code> <code>empty</code> <code>isEmpty</code> <code>includes</code> <code>equals</code> <code>with</code> <code>without</code></p> <p><code>listStrategy</code></p> <p><code>natStrategy</code>
The default kind of amount is a labeled natural number describing a quantity of fungible erights. The label describes what kinds of rights these are. This is a form of labeled unit, as in unit typing.</p> <p>Natural numbers are used for fungible erights such as money because rounding issues make floats problematic. All operations should be done with the smallest whole unit such that the NatAssay never deals with fractional parts.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/ERTP/assets/js/app.1981f8d2.js" defer></script><script src="/ERTP/assets/js/2.a50c2bef.js" defer></script><script src="/ERTP/assets/js/13.1f75e680.js" defer></script>
  </body>
</html>
